# Walkthrough（全栈）

## 后端
- 修复多处乱码/缺失引号导致的编译风险，统一为英文提示。
- 新增按 slug 获取文章接口、全局 CORS 配置、默认管理员种子数据。
- 新建管理端文章列表接口 /api/admin/articles，优化安全策略避免被公共 GET 放行。

## 前端
- 增加 Axios 封装、统一 ApiResponse/数据类型定义，store 类型化。
- 公共站点：文章列表/搜索接入后端，新增文章详情+评论提交，分类/标签真实展示，导航文案修复。
- 管理端：登录对接后端 JWT，仪表盘读取统计数据，新增文章管理页（列表、发布/下架、创建）。

## 遗留
- 尚未实际跑通编译/测试（环境缺少 Maven/可能缺少构建工具），需在本地准备好依赖后执行。


增加一个足迹的选项卡，目的是记录旅游去过的地方
希望展现的形式是：
1. 一个中国的地图，按找省份划分 ，每个省份有不同的颜色；
2. 单击每个省份会将省份显示为主体显示，这时候会细分成不同的市；
3. 点击市的话显示在当地的旅游照片，，照片的切换形式你设计一下。


增加一个足迹的选项卡，目的是记录旅游去过的地方
1）入口与整体风格

在应用顶部新增一个选项卡：「足迹」

整体视觉：清爽旅行风，背景浅色（白/浅灰），地图为主视觉，数据层级清晰，动画轻量（0.2–0.35s）

顶部固定栏：标题“足迹”，右侧提供“筛选/统计”入口（可选）

2）第一级：全国视图（按省份着色的中国地图）
2.1 展示内容

显示一张中国地图，按省份边界划分，每个省份是一个可点击的区域。

省份颜色规则（可配置）：

未去过：浅灰

去过：按去过次数/去过城市数分层加深（例如 3–5 档色阶）

地图上不强制显示文字（避免拥挤），但省名在悬停/长按时出现。

2.2 交互细节

悬停/长按某省：出现浮层卡片（Tooltip）

内容：省名、去过城市数、总照片数、最近一次到访日期（如果有）

点击某省：进入该省的“省内视图”

动效：地图轻微缩放并过渡，下钻感明显（像“钻进去”）

空态提示：

如果全国都没记录：地图仍显示，但底部出现引导文案
“还没有足迹，点右上角添加第一条旅行记录”

3）第二级：省内视图（细分到市）
3.1 顶部导航

顶部显示面包屑/返回：

全国 > 广东

支持一键返回全国视图。

3.2 主体展示（市级）

进入省内后，主体区域展示“市”的层级，表现形式建议如下（二选一，或都做）：

A. 市级区域（更直观，但更密集）

省份区域放大，并把省内各市显示为可点击区域块

市的颜色同样按“去过次数/照片数”分层（未去过浅灰，去过渐深）

B. 市级点标（更清爽，推荐默认）

省份作为底图，城市用“点/气泡”落在大致位置

气泡大小代表照片数量，颜色深浅代表到访次数

城市密集区域自动避免重叠（挤开或合并显示）

3.3 辅助列表（强烈建议）

地图右侧或下方提供“城市列表”卡片区：

每行：城市名 + 到访次数 + 照片数 + 最近到访时间

支持搜索城市名（输入即过滤）

支持排序切换：

最近到访 / 照片最多 / 到访最多

3.4 交互

点击某市（区域或点或列表项）：进入该市的“照片视图”

悬停/长按某市：浮层显示城市信息（同列表字段）

4）第三级：市详情（照片瀑布流 + 全屏切换）
4.1 顶部信息区

标题：城市名（例如“深圳”）

副信息（小字一行即可）：

到访 5 次 · 120 张照片 · 最近 2025/10/02

可选：标签（胶囊样式）
例如：美食 海边 亲子

4.2 照片展示：瀑布流（Masonry）

默认展示照片瀑布流：

两列或三列自适应（手机2列，平板3列，桌面4列）

每张图圆角（8–12px），轻阴影

图片加载时显示骨架屏（灰色占位块）

分组（可选，但推荐）：

顶部提供切换：全部 / 按旅行分组 / 按年份

“按旅行分组”会在瀑布流中插入分组标题条（如“国庆三日”）

4.3 点击图片：全屏灯箱（核心体验）

点击任意照片进入全屏浏览：

黑色半透明背景

图片居中，支持左右滑动/左右箭头切换

顶部显示：当前张数/总张数（例如 12/120）

底部（可选）显示缩略图条，方便快速跳转

手势：

手机：左右滑切换；双击放大；捏合缩放

桌面：键盘 ← → 切换，ESC 退出

退出方式：

点击关闭按钮（右上角 X）

或下滑/点击背景关闭（可配置）

4.4 照片信息（轻量即可）

灯箱中可上拉/点击 info 展示照片备注（如果有）：

拍摄日期（如果记录）

标签

简短文字备注

5）新增/编辑足迹（操作逻辑，不涉及技术）
5.1 添加入口

在“足迹”Tab右上角一个明显按钮：+ 添加足迹

在城市详情页也有按钮：+ 上传照片

5.2 添加流程（建议最少两步）

选择地点：

省 → 市（可搜索）

填写信息并上传：

到访日期（可选）

标签/备注（可选）

上传照片（多选）

保存

5.3 编辑能力（至少支持）

修改城市备注、标签

删除照片（提供二次确认）

设置某张照片为“城市封面”（封面用于列表/预览）

6）筛选与统计（可选但很好用）

筛选维度（顶部或侧边抽屉）：

年份

标签

仅看有照片

统计卡片（全国页/省页可展示）：

去过省份数、城市数、照片数

最常去的城市（Top3）

7）空态与异常状态

全国无记录：提示引导添加

省内无记录：显示“你还没点亮这个省的城市”

城市无照片：显示占位图 + “上传照片”

加载失败：展示重试按钮，不要让地图空白一片

8）关键细节（AI 生成实现时最容易漏的点）

地图下钻时要保留“返回”和层级感（面包屑/返回按钮）

颜色层级要统一：全国省份与省内城市用同一套“深浅含义”

瀑布流图片要有骨架屏与懒加载体验

灯箱必须支持：连续切换、缩放、退出、当前序号显示